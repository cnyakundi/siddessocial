# DigitalOcean / backend env example (copy into DO environment variables)

# --- Core ---
DJANGO_DEBUG=0
DJANGO_SECRET_KEY=change-me-to-a-long-random-secret-32-chars-min
DATABASE_URL=postgres://USER:PASSWORD@HOST:5432/DBNAME

# Your backend hostname (DigitalOcean app URL or api.yourdomain.com)
DJANGO_ALLOWED_HOSTS=api.example.com

# MUST include your frontend origin(s) (Vercel and/or custom domain)
# Example: https://app.example.com
DJANGO_CSRF_TRUSTED=https://app.example.com

# Used for email links (password reset, verify email, account lifecycle)
SIDDES_PUBLIC_APP_BASE=https://app.example.com

# Strong secret used by contacts matching
SIDDES_CONTACTS_PEPPER=change-me-to-a-long-random-secret-32-chars-min

# Optional: share cookies across subdomains (ONLY if you use a custom domain like *.example.com)
# SIDDES_COOKIE_DOMAIN=.example.com

# Optional (recommended if you run multiple backend instances)
# REDIS_URL=redis://...
# SD_LOG_LEVEL=INFO

# --- Cloudflare R2 signing (required for uploads + signed GET) ---
SIDDES_R2_BUCKET=siddes-media
SIDDES_R2_ACCOUNT_ID=YOUR_CLOUDFLARE_ACCOUNT_ID
# or use SIDDES_R2_ENDPOINT=https://<acct>.r2.cloudflarestorage.com
SIDDES_R2_ACCESS_KEY_ID=your-access-key
SIDDES_R2_SECRET_ACCESS_KEY=your-secret-key

# --- Email provider (required for password reset + verify) ---
# Choose: smtp | sendgrid
SD_EMAIL_PROVIDER=smtp
SD_EMAIL_FROM=no-reply@example.com

# SMTP (if SD_EMAIL_PROVIDER=smtp)
SD_SMTP_HOST=
SD_SMTP_PORT=587
SD_SMTP_USER=
SD_SMTP_PASSWORD=
SD_SMTP_USE_TLS=1
SD_SMTP_USE_SSL=0
SD_SMTP_TIMEOUT=10

# SendGrid (if SD_EMAIL_PROVIDER=sendgrid)
SD_SENDGRID_API_KEY=

# --- Cloudflare Worker media token gate (ONLY if you route /m/* to Worker) ---
# Must match Worker secret MEDIA_TOKEN_SECRET
SIDDES_MEDIA_TOKEN_SECRET=change-me-to-a-long-random-secret-32-chars-min
# Optional: private token TTL seconds (default 600)
SIDDES_MEDIA_PRIVATE_TTL=600
