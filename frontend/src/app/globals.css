@tailwind base;
@tailwind components;
@tailwind utilities;

html, body {
  height: 100%;
}

/* sd_736_app_like_touch_polish: reduce “webby” feel on mobile */
html {
  -webkit-text-size-adjust: 100%;
}

body {
  /* Prevent scroll chaining / pull-to-refresh on supporting browsers (Android). */
  overscroll-behavior-y: none;
  overscroll-behavior-x: none;

  /* Reduce tap highlight flash. */
  -webkit-tap-highlight-color: transparent;

  /* Helps remove the old 300ms tap delay and improves gesture semantics. */
  touch-action: manipulation;
}

a, button {
  -webkit-tap-highlight-color: transparent;
}

/* Keep iOS momentum scrolling where applicable. */
@supports (-webkit-overflow-scrolling: touch) {
  .sd-scroll-touch {
    -webkit-overflow-scrolling: touch;
  }
}


body {
  background: #f9fafb; /* gray-50 */
  /* sd_732: app-like taps */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* sd_363: Feed perf - browser-native virtualization via content-visibility */
.sd-feed-cv-row {
  content-visibility: auto;
  contain-intrinsic-size: 1px 220px;
}

/* sd_462: PWA viewport + safe-area + dvh */
:root {
  --safe-top: env(safe-area-inset-top);
  --safe-right: env(safe-area-inset-right);
  --safe-bottom: env(safe-area-inset-bottom);
  --safe-left: env(safe-area-inset-left);
  --siddes-topbar-h: 64px;
}

@media (min-width: 1024px) {
  :root {
    --siddes-topbar-h: 80px;
  }
}


@layer utilities {
  .min-h-dvh {
    min-height: 100vh;
    min-height: 100dvh;
  }
  .h-dvh {
    height: 100vh;
    height: 100dvh;
  }
  .sd-min-h-shell {
    min-height: calc(100vh - var(--siddes-topbar-h));
    min-height: calc(100dvh - var(--siddes-topbar-h));
  }

}


/* sd_546: hide scrollbars (horizontal carousels) */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* sd_732: Standalone PWA — reduce browser-y bounce/pull-to-refresh where supported */
@media (display-mode: standalone) {
  html, body {
    overscroll-behavior-y: none;
    overscroll-behavior-x: none;
  }
}

